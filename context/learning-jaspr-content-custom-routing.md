# Learning: Custom Routing in jaspr_content

## Type
Learning

## Date
2026-02-16

## Description
Discovered how to decouple Markdown filenames from URL paths in `jaspr_content` by using a custom `routerBuilder`.

## Context/Reasoning
When renaming blog posts to include a date prefix (e.g., `2022-04-09-4-years-at-doodle.md`), `jaspr_content` automatically updated the URLs to include the date. To maintain the original short URLs, we needed a way to override the default route generation. 

We found that `PageExtension.apply` cannot modify the `path` or `url` of a `Page` because those properties are final. Instead, the solution is to use `ContentApp.custom` and provide a `routerBuilder` function. This function intercepts the `List<RouteBase>` generated by the loaders and allows returning a modified list of routes with custom paths.

## Actionable Item
- To override URLs based on frontmatter, use `ContentApp.custom(routerBuilder: ...)` in `main.server.dart`.
- Manually parse the source Markdown files within the `routerBuilder` to extract a `slug` or other routing metadata.
- Return a new `Route` object with the desired `path` while preserving the original `builder` and `routes`.
